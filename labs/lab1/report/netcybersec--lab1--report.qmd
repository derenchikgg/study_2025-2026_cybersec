---
## Author
author:
  - name: Панченко Денис 1132229056
  - name: Савурская Полина 1132222827
  - name: Кочарян Никита 1132221541
  - name: Норсоян Шушаник 1132221545
  - name: Сухальская Ксения 1132229052
  - name: Умярова Камилла 1132229051

## Title
title: "Лабораторная работа 1"
subtitle: "Защита разработчика программного обеспечения"
---

# Цель работы

Злоумышленник решает предпринять атаку на инфраструктуру небольшой IT-компании, занимающейся веб-разработкой. Просканировав сеть организации, он обнаруживает уязвимость на веб-сайте компании. Закрепившись в системе, нарушитель атакует один из узлов внутренней инфраструктуры разработчика. Нужно защитить разработчика программного обеспечения.

# Обнаружение атаки

Событие 1: Выполнение XXE-инъекции на узле Webmarket ([рис. @fig-001]).

![Событие 1](image/1.png){#fig-001 width=50%}

Событие 2: Обход аутентификации и выполнение удаленного кода в TeamCity ([рис. @fig-002]).

![Событие 2](image/2.png){#fig-002 width=50%}

Событие 3: Атака на песочницу NodeJS Sandbox ([рис. @fig-003]).

![Событие 3](image/3.png){#fig-003 width=50%}

# Выполнение лабораторной работы

## Уязвимость XML Injection и последствие Webmarket PHP backdoor

Обнаруживаем вредоносную сессию ([рис. @fig-004 - @fig-006]).

![Сканирование файловой системы](image/4.png){#fig-004 width=50%}

![Сканирование файловой системы](image/5.png){#fig-005 width=50%}

![Сканирование файловой системы](image/6.png){#fig-006 width=50%}

Изменяем исполняемы файл ([рис. @fig-007 - @fig-008]).

![Изменение файла](image/7.png){#fig-007 width=50%}

![изменения файла](image/8.png){#fig-008 width=50%}

Удаляем вредоносный файл ([рис. @fig-009]).

![Удаление вредоносного файла](image/9.png){#fig-009 width=50%}

Завершаем вредоносную сессию ([рис. @fig-010]).

![Завершение вредоносной сессии](image/10.png){#fig-010 width=50%}

Удаляем вредоносный исполняемый файл ([рис. @fig-011]).

![Удаление вредоносного файла](image/11.png){#fig-011 width=50%}

Уязвимость устранена ([рис. @fig-012]).

![Устранение уязвимости](image/12.png){#fig-012 width=50%}

## Уязвимость TeamCity RCE и последствие TeamCity DB Deleter

На TeamCity совершена атака ([рис. @fig-013]).

![Атака на TeamCity](image/13.png){#fig-013 width=50%}

Восстанавливаем TeamCity из резервной копии ([рис. @fig-014]).

![Восстанавление](image/14.png){#fig-014 width=50%}

Перезапускаем TeamCity ([рис. @fig-015]).

![Перезапуск](image/15.png){#fig-015 width=50%}

Входим в TeamCity ([рис. @fig-016]).

![Авторизация](image/16.png){#fig-016 width=50%}

Устанавливаем плагин для устранения уязвимости ([рис. @fig-017 - @fig-018]).

![Загрузка плагина](image/17.png){#fig-017 width=50%}

![Загрузка плагина](image/18.png){#fig-018 width=50%}

Уязвимость устранена ([рис. @fig-019]).

![Устранение уязвимости](image/19.png){#fig-019 width=50%}

## Уязвимость JS Sandbox escape и последствие Node DOS

Сканируем файлы ([рис. @fig-020 - @fig-021]).

![Сканирование файлов](image/20.png){#fig-020 width=50%}

![Сканирование файлов](image/21.png){#fig-021 width=50%}

Редактируем исполняемый файл ([рис. @fig-022 - @fig-023]).

![Редактирование файла](image/22.png){#fig-022 width=50%}

![Редактирование файла](image/23.png){#fig-023 width=50%}

Редактируем следующий исполняемый файл ([рис. @fig-024 - @fig-026]).

![Редактирование файла](image/24.png){#fig-024 width=50%}

![Редактирование файла](image/25.png){#fig-025 width=50%}

![Редактирование файла](image/26.png){#fig-026 width=50%}

Завершаем вредоносную сессию ([рис. @fig-027]).

![Завершение вредоносной сессии](image/27.png){#fig-027 width=50%}

Удаляем вредоносный файл ([рис. @fig-028]).

![Удаление вредоносного файла](image/28.png){#fig-028 width=50%}

Уязвимость устранена ([рис. @fig-029]).

![Устранение уязвимости](image/29.png){#fig-029 width=50%}

# Выводы

В результате выполнения работы мы успешно устранили все уязвимости и их последствия:
Webmarket XML Injection → Webmarket PHP backdoor;
TeamCity RCE → TeamCity DB Deleter;
JS Sandbox escape → Node DOS.